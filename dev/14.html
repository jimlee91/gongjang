@@include('./include/header.html')
<div class="container">
    <div class="content">
        <div class="content__left">
            @@include('./include/oauth_after_login.html')
            @@include('./include/gnb.html')
        </div>
        <div class="content__main">
            <div class="breadcrumb">
                <div class="breadcrumb__list">
                    <a href="" class="breadcrumb__item waves-effect">Home</a>
                    <a href="" class="breadcrumb__item waves-effect">마이페이지</a>
                    <a href="" class="breadcrumb__item waves-effect">앱 설정 </a>
                </div>
                <a href="" class="more waves-effct"></a>
            </div>
            <div class="content__body">
                <div class="spaceSetting subContent">
                    <div class="subContent__section ">
                        <section class="accounts__header">
                            <h2 class="accounts__title">
                                <span>
                                    문의하기
                                </span>
                            </h2>
                        </section>


                        <div class="spaceSetting">
                            <form action="">
                                <div class="form">
                                    <div class="form__row column">
                                        <label for="" class="form__row-title font-12">제목</label>
                                        <div class="box">
                                            <input type="text" class="input-border">
                                        </div>
                                    </div>

                                    <div class="form__row column">
                                        <label for="" class="form__row-title font-12">카테고리</label>
                                        <div class="box">
                                            <select name="" id="" class="input-border">
                                                <option value="" >카테고리</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="form__row column">
                                        <label for="" class="form__row-title font-12">내용</label>
                                        <div class="box">
                                            <textarea type="text" placeholder="내용을 입력하세요." class="input-border"></textarea>
                                        </div>
                                    </div>

                                    <div class="form__row column">
                                        <label for="" class="form__row-title">업로드</label>
                                        <div class="box">
                                            <div class="form__fileFields">
                                                <!-- if # 등록된 파일이 없을경우 -->
                                                <button class="fileField-empty input-border" id="fileField-empty" type="button" onclick="showModal('#addFile')">
                                                    업로드 파일 선택
                                                </button>
                                                <!-- else -->
                                                <ul class="fileField-list" id="fileField-list" style="display: none;">

                                                </ul>
                                                <!-- end if -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="btnbox mt-100">
                                    <button class="btn btn-blue waves-effect w185">확인</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="content__right">
            @@include('./include/etc_relation.html')
            @@include('./include/etc_schedule.html')
            @@include('./include/etc_alarm.html')
            @@include('./include/etc_empty.html')
            @@include('./include/etc_news.html')
            @@include('./include/etc_friends.html')
            @@include('./include/etc_footer.html')
        </div>
    </div>
</div>


<div class="modal" id="addFile" style="display: none;">
    <div class="modal__content">
        <div class="modal__body">
            <label for="fileImages" class="addFile__images">
                <input type="file" id="fileImages" hidden multiple accept="image/*" />
                <div class="icon">사진 아이콘</div>
                <p>사진</p>
            </label>

            <label for="fileVideos" class="addFile__videos">
                <input type="file" id="fileVideos" hidden multiple accept="video/*" />
                <div class="icon">동영상</div>
                <p>동영상</p>
            </label>
        </div>
        <div class="modal__btnbox">
            <a href="" class="modal__btn js-modal-close">확인</a>
        </div>
    </div>
</div>


@@include('./include/footer.html')


<script>
    $('#addFile input[type="file"]').on('change', function(e){
        // 등록된 파일 객체
        console.dir(e.target);

        if ( e.target.files.length > 0 ) {
            // 등록된 파일이 있을때,
            $('#fileField-list').show();
            $('#fileField-empty').hide();
            $(this).parents('label').addClass('has-files');
        } else {
            // 등록된 파일이 없을떄,
            $('#fileField-list').hide();
            $('#fileField-empty').show();
            $(this).parents('label').removeClass('has-files')
        }

        var html = '';
        for ( var i = 0; i < e.target.files.length; i++ ) {
            console.dir(e.target.files[i]); // 각각의 파일 객체
            html += '<li class="fileField-item"><p>'+e.target.files[i]['name']+'</p><a href="" class="remove-fileField-item">삭제</a></li>';
        }
        $('#fileField-list').append(html);
    });

    $(document).on('click', '.remove-fileField-item', function(e){
        e.preventDefault();
        // 삭제
        $(this).parents('.fileField-item').remove();
        if ( $('.fileField-item').length === 0 ) {
            $('#fileField-list').hide();
            $('#fileField-empty').show();
        }
    })
</script>